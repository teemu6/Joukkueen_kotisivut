{"ast":null,"code":"import _slicedToArray from \"/home/teemu/Omat/Koulu/kesaopinnot/web_ohjelmointi/harjtyo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/teemu/Omat/Koulu/kesaopinnot/web_ohjelmointi/harjtyo/src/Stats.js\";\nimport React, { useState } from 'react';\nimport { HorizontalBar } from 'react-chartjs-2';\n\nconst Stats = ({\n  teamdata\n}) => {\n  const _useState = useState(\"kaikki\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        showroles = _useState2[0],\n        setShowroles = _useState2[1];\n\n  const _useState3 = useState(\"Tehopisteet\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        statstype = _useState4[0],\n        setStatstype = _useState4[1];\n\n  const selectionHandler = event => {\n    setShowroles(event.target.value);\n  };\n\n  const barOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    tooltips: {\n      titleFontSize: 20,\n      bodyFontSize: 20\n    },\n    title: {\n      display: true,\n      text: statstype + ' top10: ' + showroles,\n      fontSize: 24\n    },\n    legend: {\n      display: false\n    },\n    scales: {\n      yAxes: [{\n        ticks: {\n          fontSize: 20\n        }\n      }],\n      xAxes: [{\n        position: 'top',\n        ticks: {\n          beginAtZero: true,\n          fontSize: 20,\n          precision: 0\n        }\n      }]\n    }\n  };\n  let players = {};\n  players = teamdata.players.map(player => {\n    if (showroles === \"hyökkääjät\" && player.role !== \"hyökkääjä\") {\n      return null;\n    }\n\n    ;\n\n    if (showroles === \"puolustajat\" && player.role !== \"puolustaja\") {\n      return null;\n    }\n\n    ;\n\n    if (statstype === \"Tehopisteet\") {\n      let points = 0;\n\n      for (let i = 0; i < teamdata.matches.length; i++) {\n        for (let k = 0; k < teamdata.matches[i].scorers.length; k++) {\n          if (teamdata.matches[i].scorers[k] === player.id) {\n            points++;\n          }\n\n          if (teamdata.matches[i].assists[k] === player.id) {\n            points++;\n          }\n        }\n      }\n\n      return {\n        name: player.lname + \" \" + player.fname[0] + \".\",\n        points: points\n      };\n    } else if (statstype === \"Maalit\") {\n      let scores = 0;\n\n      for (let i = 0; i < teamdata.matches.length; i++) {\n        for (let k = 0; k < teamdata.matches[i].scorers.length; k++) {\n          if (teamdata.matches[i].scorers[k] === player.id) {\n            scores++;\n          }\n        }\n      }\n\n      return {\n        name: player.lname + \" \" + player.fname[0] + \".\",\n        scores: scores\n      };\n    }\n\n    return null;\n  });\n  players = players.filter(e => e != null);\n  let chartdata = {};\n\n  if (statstype === \"Tehopisteet\") {\n    players.sort((a, b) => a.points < b.points ? 1 : a.points > b.points ? -1 : 0);\n    chartdata = players.map(player => player.points);\n  } else if (statstype === \"Maalit\") {\n    players.sort((a, b) => a.scores < b.scores ? 1 : a.scores > b.scores ? -1 : 0);\n    chartdata = players.map(player => player.scores);\n  }\n\n  chartdata = chartdata.slice(0, 10);\n  let chartlabels = players.map(player => player.name);\n  chartlabels = chartlabels.slice(0, 10);\n  let data = {\n    labels: chartlabels,\n    datasets: [{\n      label: statstype,\n      backgroundColor: 'green',\n      borderColor: 'green',\n      data: chartdata\n    }]\n  };\n  return React.createElement(\"div\", {\n    id: \"chartContainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Rooli: \", React.createElement(\"select\", {\n    id: \"roles\",\n    value: showroles,\n    onChange: selectionHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    key: \"all\",\n    value: \"kaikki\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Kaikki\"), React.createElement(\"option\", {\n    key: \"forwards\",\n    value: \"hy\\xF6kk\\xE4\\xE4j\\xE4t\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Hy\\xF6kk\\xE4\\xE4j\\xE4t\"), React.createElement(\"option\", {\n    key: \"defenders\",\n    value: \"puolustajat\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"Puolustajat\")), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: () => setStatstype(\"Tehopisteet\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Tehopisteet\"), React.createElement(\"button\", {\n    onClick: () => setStatstype(\"Maalit\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"Maalit\"), React.createElement(\"button\", {\n    onClick: () => setStatstype(\"Syöttöpisteet\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"Sy\\xF6tt\\xF6pisteet\"), React.createElement(HorizontalBar, {\n    data: data,\n    options: barOptions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }));\n};\n\nexport default Stats;","map":{"version":3,"sources":["/home/teemu/Omat/Koulu/kesaopinnot/web_ohjelmointi/harjtyo/src/Stats.js"],"names":["React","useState","HorizontalBar","Stats","teamdata","showroles","setShowroles","statstype","setStatstype","selectionHandler","event","target","value","barOptions","responsive","maintainAspectRatio","tooltips","titleFontSize","bodyFontSize","title","display","text","fontSize","legend","scales","yAxes","ticks","xAxes","position","beginAtZero","precision","players","map","player","role","points","i","matches","length","k","scorers","id","assists","name","lname","fname","scores","filter","e","chartdata","sort","a","b","slice","chartlabels","data","labels","datasets","label","backgroundColor","borderColor"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { HorizontalBar } from 'react-chartjs-2';\n\nconst Stats = ({ teamdata }) => {\n  const [showroles, setShowroles] = useState(\"kaikki\");\n  const [statstype, setStatstype] = useState(\"Tehopisteet\");\n\n  const selectionHandler = (event) => {\n    setShowroles(event.target.value);\n  }\n\n  const barOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    tooltips: {\n      titleFontSize: 20,\n      bodyFontSize: 20\n    },\n    title: {\n      display: true,\n      text: statstype + ' top10: ' + showroles,\n      fontSize: 24\n    },\n    legend: {\n      display: false\n    },\n    scales: {\n      yAxes: [{\n        ticks: {\n          fontSize: 20\n        }\n      }],\n      xAxes: [{\n        position: 'top',\n        ticks: {\n          beginAtZero: true,\n          fontSize: 20,\n          precision: 0\n        }\n      }]\n    }\n  };\n\n  let players = {};\n  players = teamdata.players.map((player) => {\n\n    if (showroles === \"hyökkääjät\" && player.role !== \"hyökkääjä\") {\n      return null;\n    };\n    if (showroles === \"puolustajat\" && player.role !== \"puolustaja\") {\n      return null;\n    };\n\n    if (statstype === \"Tehopisteet\") {\n      let points = 0;\n      for (let i = 0; i < teamdata.matches.length; i++) {\n        for (let k = 0; k < teamdata.matches[i].scorers.length; k++) {\n          if (teamdata.matches[i].scorers[k] === player.id) {\n            points++;\n          }\n          if (teamdata.matches[i].assists[k] === player.id) {\n            points++;\n          }\n        }\n      }\n      return ({\n        name: player.lname + \" \" + player.fname[0] + \".\",\n        points: points\n      })\n    }\n    else if (statstype === \"Maalit\") {\n      let scores = 0;\n      for (let i = 0; i < teamdata.matches.length; i++) {\n        for (let k = 0; k < teamdata.matches[i].scorers.length; k++) {\n          if (teamdata.matches[i].scorers[k] === player.id) {\n            scores++;\n          }\n        }\n      }\n      return ({\n        name: player.lname + \" \" + player.fname[0] + \".\",\n        scores: scores\n      })\n    }\n    return null;\n  });\n\n  players = players.filter((e) => e != null);\n\n  let chartdata = {};\n  if (statstype === \"Tehopisteet\") {\n    players.sort((a, b) => (a.points < b.points) ? 1 : (a.points > b.points) ? -1 : 0);\n    chartdata = players.map((player) => player.points);\n  }\n  else if (statstype === \"Maalit\") {\n    players.sort((a, b) => (a.scores < b.scores) ? 1 : (a.scores > b.scores) ? -1 : 0);\n    chartdata = players.map((player) => player.scores);\n  }\n  chartdata = chartdata.slice(0, 10);\n\n  let chartlabels = players.map((player) => player.name);\n  chartlabels = chartlabels.slice(0, 10);\n  \n  let data = {\n    labels: chartlabels,\n    datasets: [{\n      label: statstype,\n      backgroundColor: 'green',\n      borderColor: 'green',\n      data: chartdata,\n    }]\n  };\n\n  return (<div id=\"chartContainer\">\n    Rooli: <select id=\"roles\" value={showroles} onChange={selectionHandler}>\n      <option key=\"all\" value=\"kaikki\">Kaikki</option>\n      <option key=\"forwards\" value=\"hyökkääjät\">Hyökkääjät</option>\n      <option key=\"defenders\" value=\"puolustajat\">Puolustajat</option>\n    </select><br/>\n    <button onClick={()=>setStatstype(\"Tehopisteet\")}>Tehopisteet</button>\n    <button onClick={()=>setStatstype(\"Maalit\")}>Maalit</button>\n    <button onClick={()=>setStatstype(\"Syöttöpisteet\")}>Syöttöpisteet</button>\n    <HorizontalBar data={data} options={barOptions} />\n  </div>\n  );\n}\n\nexport default Stats;"]},"metadata":{},"sourceType":"module"}