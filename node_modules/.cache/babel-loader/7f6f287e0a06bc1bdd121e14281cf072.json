{"ast":null,"code":"import _slicedToArray from \"/home/teemu/Omat/Koulu/kesaopinnot/web_ohjelmointi/harjtyo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/teemu/Omat/Koulu/kesaopinnot/web_ohjelmointi/harjtyo/src/Players.js\";\nimport React, { useState } from 'react';\n/* Component for Players-page contents */\n\nconst Players = ({\n  teamdata\n}) => {\n  //state to keep track of text input field\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        userinput = _useState2[0],\n        setUserinput = _useState2[1]; //handler when change happens in text input, text is copied to the state as lowercase\n\n\n  const findPlayer = event => {\n    const input = event.target.value.toLowerCase();\n    setUserinput(input);\n  }; //copy playerlist from teamdata prop to a new object array\n\n\n  let playerlist = teamdata.players; //sort the players in ascending order by the alphabets of last name\n  //see inner if clauses in the callback function\n\n  playerlist.sort((a, b) => a.lname > b.lname ? 1 : a.lname < b.lname ? -1 : 0); //creates the rows for the player table by mapping the playerlist array\n\n  const rows = playerlist.map((player, index) => {\n    const playername = player.lname.toLowerCase() + \" \" + player.fname.toLowerCase();\n\n    if (!playername.startsWith(userinput)) {\n      //return null, if the user input doesnt match the last names first letters\n      //making player not appear in the table\n      return null;\n    } //calculation of the matches where the player has appeared\n\n\n    let matches = 0;\n\n    for (let i = 0; i < teamdata.matches.length; i++) {\n      if (teamdata.matches[i].participants.includes(player.id)) {\n        matches++;\n      }\n    } //same as matches, but for practises\n\n\n    let practises = 0;\n\n    for (let i = 0; i < teamdata.practises.length; i++) {\n      if (teamdata.practises[i].participants.includes(player.id)) {\n        practises++;\n      }\n    } //calculate the scores of the player in matches\n\n\n    let scores = 0;\n\n    for (let i = 0; i < teamdata.matches.length; i++) {\n      if (teamdata.matches[i].scorers.includes(player.id)) {\n        scores++;\n      }\n    } //same as above for assists\n\n\n    let assists = 0;\n\n    for (let i = 0; i < teamdata.matches.length; i++) {\n      if (teamdata.matches[i].assists.includes(player.id)) {\n        assists++;\n      }\n    }\n\n    return React.createElement(\"tr\", {\n      key: \"row\" + index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, player.lname + \" \" + player.fname), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, player.number), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, player.role), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, matches), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, practises), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, scores), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, assists));\n  });\n  return React.createElement(\"div\", {\n    className: \"Players\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Etsi pelaaja: \", React.createElement(\"input\", {\n    autoFocus: true,\n    type: \"text\",\n    onChange: findPlayer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Nimi\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Pelinumero\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Rooli\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Pelit\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Harjoitukset\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Maalit\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Sy\\xF6t\\xF6t\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, rows)));\n};\n\nexport default Players;","map":{"version":3,"sources":["/home/teemu/Omat/Koulu/kesaopinnot/web_ohjelmointi/harjtyo/src/Players.js"],"names":["React","useState","Players","teamdata","userinput","setUserinput","findPlayer","event","input","target","value","toLowerCase","playerlist","players","sort","a","b","lname","rows","map","player","index","playername","fname","startsWith","matches","i","length","participants","includes","id","practises","scores","scorers","assists","number","role"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n\n/* Component for Players-page contents */\nconst Players = ({ teamdata }) => {\n  //state to keep track of text input field\n  const [userinput, setUserinput] = useState(\"\");\n  //handler when change happens in text input, text is copied to the state as lowercase\n  const findPlayer = event => {\n    const input = event.target.value.toLowerCase();\n    setUserinput(input);\n  }\n  //copy playerlist from teamdata prop to a new object array\n  let playerlist = teamdata.players;\n  //sort the players in ascending order by the alphabets of last name\n  //see inner if clauses in the callback function\n  playerlist.sort((a, b) => (a.lname > b.lname) ? 1 : (a.lname < b.lname) ? -1 : 0);\n\n  //creates the rows for the player table by mapping the playerlist array\n  const rows = playerlist.map((player, index) => {\n\n    const playername = player.lname.toLowerCase() + \" \" + player.fname.toLowerCase();\n    if (!playername.startsWith(userinput)) {\n      //return null, if the user input doesnt match the last names first letters\n      //making player not appear in the table\n      return null;\n    }\n    //calculation of the matches where the player has appeared\n    let matches = 0;\n    for (let i = 0; i < teamdata.matches.length; i++) {\n      if (teamdata.matches[i].participants.includes(player.id)) {\n        matches++;\n      }\n    }\n    //same as matches, but for practises\n    let practises = 0;\n    for (let i = 0; i < teamdata.practises.length; i++) {\n      if (teamdata.practises[i].participants.includes(player.id)) {\n        practises++;\n      }\n    }\n    //calculate the scores of the player in matches\n    let scores = 0;\n    for (let i = 0; i < teamdata.matches.length; i++) {\n      if (teamdata.matches[i].scorers.includes(player.id)) {\n        scores++;\n      }\n    }\n    //same as above for assists\n    let assists = 0;\n    for (let i = 0; i < teamdata.matches.length; i++) {\n      if (teamdata.matches[i].assists.includes(player.id)) {\n        assists++;\n      }\n    }\n\n    return (\n      <tr key={\"row\" + index}>\n        <td>{player.lname + \" \" + player.fname}</td>\n        <td>{player.number}</td>\n        <td>{player.role}</td>\n        <td>{matches}</td>\n        <td>{practises}</td>\n        <td>{scores}</td>\n        <td>{assists}</td>\n      </tr>\n    );\n  });\n\n  return (\n    <div className=\"Players\">\n      Etsi pelaaja: <input autoFocus type=\"text\" onChange={findPlayer} />\n      <table>\n        <thead>\n          <tr>\n            <th>Nimi</th>\n            <th>Pelinumero</th>\n            <th>Rooli</th>\n            <th>Pelit</th>\n            <th>Harjoitukset</th>\n            <th>Maalit</th>\n            <th>Syötöt</th>\n          </tr>\n        </thead>\n        <tbody>\n          {rows}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default Players;"]},"metadata":{},"sourceType":"module"}