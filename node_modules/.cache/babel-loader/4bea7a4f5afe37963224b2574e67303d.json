{"ast":null,"code":"import _slicedToArray from \"/home/teemu/Omat/Koulu/kesaopinnot/web_ohjelmointi/harjtyo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/teemu/Omat/Koulu/kesaopinnot/web_ohjelmointi/harjtyo/src/Stats.js\";\nimport React, { useState } from 'react';\nimport { HorizontalBar } from 'react-chartjs-2';\n\nconst Stats = ({\n  teamdata\n}) => {\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        firstload = _useState2[0],\n        setFirstload = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        chartdata = _useState4[0],\n        setChartdata = _useState4[1];\n\n  const _useState5 = useState(true),\n        _useState6 = _slicedToArray(_useState5, 2),\n        showforwards = _useState6[0],\n        setShowforwards = _useState6[1];\n\n  const _useState7 = useState(true),\n        _useState8 = _slicedToArray(_useState7, 2),\n        showdefenders = _useState8[0],\n        setShowdefenders = _useState8[1];\n\n  const barOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    tooltips: {\n      titleFontSize: 20,\n      bodyFontSize: 20\n    },\n    title: {\n      display: true,\n      text: 'Tehopisteet all-time top 10',\n      fontSize: 24\n    },\n    legend: {\n      display: false\n    },\n    scales: {\n      yAxes: [{\n        ticks: {\n          fontSize: 20\n        }\n      }],\n      xAxes: [{\n        ticks: {\n          beginAtZero: true,\n          fontSize: 20\n        }\n      }]\n    }\n  };\n\n  const selectionHandler = event => {\n    document.getElementById(\"forwards\").checked === true ? setShowforwards(true) : setShowforwards(false);\n    document.getElementById(\"defenders\").checked === true ? setShowdefenders(true) : setShowdefenders(false);\n  };\n\n  const showPoints = () => {\n    let players = {};\n    players = teamdata.players.map((player, index) => {\n      if (showforwards === false && player.role === \"hyökkääjä\") {\n        return null;\n      }\n\n      ;\n\n      if (showdefenders === false && player.role === \"puolustaja\") {\n        return null;\n      }\n\n      ;\n      let points = 0;\n\n      for (let i = 0; i < teamdata.matches.length; i++) {\n        for (let k = 0; k < teamdata.matches[i].scorers.length; k++) {\n          if (teamdata.matches[i].scorers[k] === player.id) {\n            points++;\n          }\n\n          if (teamdata.matches[i].assists[k] === player.id) {\n            points++;\n          }\n        }\n      }\n\n      return {\n        name: player.lname + \" \" + player.fname[0] + \".\",\n        points: points\n      };\n    });\n    players.sort((a, b) => a.points < b.points ? 1 : a.points > b.points ? -1 : 0);\n    let chartlabels = players.map(player => player.name);\n    let chartdata = players.map(player => player.points);\n    chartlabels = chartlabels.slice(0, 10);\n    chartdata = chartdata.slice(0, 10);\n    let data = {\n      labels: chartlabels,\n      datasets: [{\n        label: \"Tehopisteet\",\n        backgroundColor: 'green',\n        borderColor: 'green',\n        data: chartdata\n      }]\n    };\n    setChartdata(data);\n  };\n\n  if (firstload) {\n    showPoints();\n    setFirstload(false);\n  }\n\n  ;\n  return React.createElement(\"div\", {\n    id: \"chartContainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"forwards\",\n    value: \"forwards\",\n    checked: showforwards,\n    onChange: selectionHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), \" hy\\xF6kk\\xE4\\xE4j\\xE4t\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"defenders\",\n    value: \"defenders\",\n    checked: showdefenders,\n    onChange: selectionHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), \" puolustajat\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), React.createElement(HorizontalBar, {\n    data: chartdata,\n    options: barOptions,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }));\n};\n\nexport default Stats;","map":{"version":3,"sources":["/home/teemu/Omat/Koulu/kesaopinnot/web_ohjelmointi/harjtyo/src/Stats.js"],"names":["React","useState","HorizontalBar","Stats","teamdata","firstload","setFirstload","chartdata","setChartdata","showforwards","setShowforwards","showdefenders","setShowdefenders","barOptions","responsive","maintainAspectRatio","tooltips","titleFontSize","bodyFontSize","title","display","text","fontSize","legend","scales","yAxes","ticks","xAxes","beginAtZero","selectionHandler","event","document","getElementById","checked","showPoints","players","map","player","index","role","points","i","matches","length","k","scorers","id","assists","name","lname","fname","sort","a","b","chartlabels","slice","data","labels","datasets","label","backgroundColor","borderColor"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { HorizontalBar } from 'react-chartjs-2';\n\nconst Stats = ({ teamdata }) => {\n  const [firstload, setFirstload] = useState(true);\n  const [chartdata, setChartdata] = useState({});\n  const [showforwards, setShowforwards] = useState(true);\n  const [showdefenders, setShowdefenders] = useState(true);\n\n  const barOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    tooltips: {\n      titleFontSize: 20,\n      bodyFontSize: 20\n    },\n    title: {\n      display: true,\n      text: 'Tehopisteet all-time top 10',\n      fontSize: 24\n    },\n    legend: {\n      display: false\n    },\n    scales: {\n      yAxes: [{\n        ticks: {\n          fontSize: 20\n        }\n      }],\n      xAxes: [{\n        ticks: {\n          beginAtZero: true,\n          fontSize: 20\n        }\n      }]\n    }\n  };\n\n  const selectionHandler = (event) => {\n  document.getElementById(\"forwards\").checked === true ? setShowforwards(true) : setShowforwards(false);\n  document.getElementById(\"defenders\").checked === true ? setShowdefenders(true) : setShowdefenders(false);\n  }\n\n  const showPoints = () => {\n    let players = {};\n    players = teamdata.players.map((player, index) => {\n\n      if (showforwards === false && player.role === \"hyökkääjä\") {\n        return null;\n      };\n      if (showdefenders === false && player.role === \"puolustaja\") {\n        return null;\n      };\n\n      let points = 0;\n      for (let i = 0; i < teamdata.matches.length; i++) {\n        for (let k = 0; k < teamdata.matches[i].scorers.length; k++) {\n          if (teamdata.matches[i].scorers[k] === player.id) {\n            points++;\n          }\n          if (teamdata.matches[i].assists[k] === player.id) {\n            points++;\n          }\n        }\n      }\n      return ({\n        name: player.lname + \" \" + player.fname[0] + \".\",\n        points: points\n      });\n    });\n    players.sort((a, b) => (a.points < b.points) ? 1 : (a.points > b.points) ? -1 : 0);\n\n    let chartlabels = players.map((player) => player.name);\n    let chartdata = players.map((player) => player.points);\n    chartlabels = chartlabels.slice(0,10);\n    chartdata = chartdata.slice(0,10);\n    let data = {\n      labels: chartlabels,\n      datasets: [{\n        label: \"Tehopisteet\",\n        backgroundColor: 'green',\n        borderColor: 'green',\n        data: chartdata,\n      }]\n    };\n    setChartdata(data);\n  }\n\n  if (firstload) {\n    showPoints();\n    setFirstload(false);\n  };\n\n  return (<div id=\"chartContainer\">\n    <input type=\"checkbox\" id=\"forwards\" value=\"forwards\" checked={showforwards} onChange={selectionHandler}/> hyökkääjät<br/>\n    <input type=\"checkbox\" id=\"defenders\" value=\"defenders\" checked={showdefenders} onChange={selectionHandler}/> puolustajat<br/>\n    <HorizontalBar data={chartdata} options={barOptions} />\n  </div>\n  );\n}\n\nexport default Stats;"]},"metadata":{},"sourceType":"module"}